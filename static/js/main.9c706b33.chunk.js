(this["webpackJsonpprime-counter"]=this["webpackJsonpprime-counter"]||[]).push([[0],{12:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(5),a=n(9),s=n(6),c=n(1),i=n.n(c),o=n(2),u=n(3),l=n(20),h=function(){function e(){Object(o.a)(this,e),this.run()}return Object(u.a)(e,[{key:"run",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented yet!");case 1:case"end":return e.stop()}}))}},{key:"inflateTable",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not yet implemented!");case 1:case"end":return e.stop()}}))}},{key:"getPrimes",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not yet implemented!");case 1:case"end":return e.stop()}}))}},{key:"setPrimeCount",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not yet implemented!");case 1:case"end":return e.stop()}}))}},{key:"stop",value:function(){throw new Error("Not implemented yet!")}}]),e}(),p=function(e){function t(){var e,n;Object(o.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(n=Object(r.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(c)))).prime=new l.a(10),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"run",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("JSContext running!");case 1:case"end":return e.stop()}}))}},{key:"inflateTable",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.prime.generatePrimes(),this.prime.createTable((function(e,t,n){var r=document.getElementById("x".concat(e,"y").concat(t));r&&(r.innerText=n)}));case 2:case"end":return e.stop()}}),null,this)}},{key:"getPrimes",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.prime.primes,e.t0){e.next=5;break}return e.next=4,i.a.awrap(this.prime.generatePrimes());case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),null,this)}},{key:"setPrimeCount",value:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.prime.primeCount=e>=1?e:1,t.next=3,i.a.awrap(this.prime.generatePrimes());case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),null,this)}},{key:"stop",value:function(){console.log("Stopped JS context!")}}]),t}(h),m=function(t){function n(){var t;if(Object(o.a)(this,n),!(WebAssembly&&"Go"in e&&"function"===typeof e.Go))throw new Error("Cannot initialize Go application!");return(t=Object(r.a)(this,Object(a.a)(n).call(this)),Object(r.a)(t))}return Object(s.a)(n,t),Object(u.a)(n,[{key:"run",value:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.go?e=this.go:(e=new window.Go,this.go=e),t.abrupt("return",WebAssembly.instantiateStreaming(fetch("main.wasm"),e.importObject).then((function(t){n.instance=t.instance,e.run(n.instance)})));case 2:case"end":return t.stop()}}),null,this)}},{key:"inflateTable",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.golangInflateTable());case 1:case"end":return e.stop()}}))}},{key:"getPrimes",value:function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.golangGetPrimes());case 1:case"end":return t.stop()}}))}},{key:"setPrimeCount",value:function(t){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.golangSetPrimeCount(t),console.log(n,"Go res"),r.abrupt("return",n);case 3:case"end":return r.stop()}}))}},{key:"stop",value:function(){this.go.exited||(e.golangShutdown(),n.instance=null,this.go.exit(0))}}]),n}(h);m.instance=null}).call(this,n(17))},20:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(11),a=n(1),s=n.n(a),c=n(2),i=n(3),o=function(){function t(n){Object(c.a)(this,t),this.primeCount=10,this.primes=null,this.primeCount=n,e.primeInstance=this}return Object(i.a)(t,[{key:"generatePrimes",value:function(e,t,n){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=t||[],e=e||this.primeCount,n=n||2,!(Number.MAX_SAFE_INTEGER<n+2)){r.next=5;break}throw new Error("Possible stackoverflow!");case 5:if(this.primeChecker({number:n})&&t.push(n),!(t.length<e)){r.next=10;break}return r.abrupt("return",this.generatePrimes(e,t,++n));case 10:return this.primes=t,r.abrupt("return",t);case 12:case"end":return r.stop()}}),null,this)}},{key:"primeChecker",value:function(e){return e.currentCount?!(e.currentCount<=e.squareRt)||e.number%e.currentCount!==0&&e.number%(e.currentCount+2)!==0&&(e.currentCount++,this.primeChecker(e)):e.number<=3?e.number>1:e.number%2!==0&&e.number%3!==0&&(e.squareRt=parseInt(Math.sqrt(e.number)),e.currentCount=5,this.primeChecker(e))}},{key:"createTable",value:function(e,t){var n,a=this;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.primes=t||this.primes||this.generatePrimes(),this.primes&&"object"===typeof this.primes){s.next=3;break}throw new Error("Primes not available to work with!");case 3:return n=[],this.primes.forEach((function(t,s){n.push(Object(r.a)(a._tableGenerator(s,e)))})),s.abrupt("return",n);case 6:case"end":return s.stop()}}),null,this)}},{key:"_tableGenerator",value:s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.primes&&"object"===typeof this.primes){e.next=2;break}throw new Error("Primes not available to work with!");case 2:r=0;case 3:if(!(r<this.primes.length)){e.next=11;break}return a=this.primes[t]*this.primes[r],n(r,t,a),e.next=8,a;case 8:r++,e.next=3;break;case 11:case"end":return e.stop()}}),e,this)}))}]),t}()}).call(this,n(17))},23:function(e,t,n){e.exports=n(38)},29:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(0),c=n.n(s),i=n(4),o=n.n(i),u=(n(29),n(2)),l=n(3),h=n(5),p=n(9),m=n(6),f=(n(30),n(31),n(11)),b=a.a.mark(w),d=function(e){var t=e.headers;e.callback;return c.a.createElement("div",{className:"table"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"."),t.map((function(e,t){return c.a.createElement("th",{key:"head-".concat(t)},e)})))),c.a.createElement("tbody",null,t.map((function(e,n){return c.a.createElement("tr",{key:"body-".concat(n,"-").concat(e)},c.a.createElement("th",null,e),Object(f.a)(w(n,t.length)))})))))};function w(e,t){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=0;case 1:if(!(n<t)){r.next=7;break}return r.next=4,c.a.createElement("td",{id:"x".concat(n,"y").concat(e),key:"x".concat(n,"y").concat(e)});case 4:n++,r.next=1;break;case 7:case"end":return r.stop()}}),b)}var v=n(12),y=n(10),x=1,g=2,k=3,E=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).contextCache={JS:null,GO:null},n.state={engine:g,context:new v.b,primes:[],status:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,a.a.awrap(this.state.context.getPrimes());case 3:e.t1=e.sent,e.t2={primes:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),null,this)}},{key:"existsInCache",value:function(e){switch(e){case g:if(this.contextCache.JS)return this.contextCache.JS.run(),this.contextCache.JS;break;case x:if(this.contextCache.GO)return this.contextCache.GO.run(),this.contextCache.GO;break;default:return!1}}},{key:"getOldOrMakeNew",value:function(e){switch(e){case g:return this.existsInCache(g)||new v.b;case x:return this.existsInCache(x)||new v.a;case k:return this.existsInCache(k);default:throw new Error("Dunno how you got here JS. Please report bug!!!!!")}}},{key:"setContextType",value:function(e){var t={type:this.state.engine,context:this.state.context},n=!0;switch(t.type===e&&(n=!1,console.log("...resetting context...")),t.type){case g:this.state.context.stop(),n&&(this.contextCache.JS=this.state.context);break;case x:this.state.context.stop(),n&&(this.contextCache.GO=this.state.context);break;case k:throw new Error("Not yet implemented!");default:throw new Error("Dunno how you got here JS. Please report bug!!!!!")}try{var r=this.getOldOrMakeNew(e);this.setState({engine:e,context:r})}catch(a){console.error(a),this.setState({status:a.message}),this.setContextType(t.type)}}},{key:"render",value:function(){var e=this,t=this.props.toastManager;return c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("select",{className:"select",value:this.state.engine,onChange:function(n){t.add("Updating context engine...",{appearance:"info",autoDismiss:!0}),e.setContextType(parseInt(n.target.value))}},c.a.createElement("option",{value:g},"JAVASCRIPT"),c.a.createElement("option",{value:x},"WEBASSEMBLY")),c.a.createElement("form",{className:"textbox",onSubmit:function(n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),n.stopPropagation(),r.t0=e,r.next=5,a.a.awrap(e.state.context.setPrimeCount(parseInt(document.getElementById("primeCountInput").value,10)));case 5:r.t1=r.sent,r.t2={primes:r.t1},r.t3=function(){return t.add("Updated Prime Count!",{appearance:"success",autoDismiss:!0})},r.t0.setState.call(r.t0,r.t2,r.t3);case 9:case"end":return r.stop()}}))}},c.a.createElement("input",{id:"primeCountInput",type:"number",placeholder:"Set Prime number count..."}))),c.a.createElement("main",null,c.a.createElement("div",{className:"table-container"},c.a.createElement(d,{headers:this.state.primes||[]})),c.a.createElement("button",{className:"button",onClick:function(){var n=t.add("Inflating table...",{appearance:"info"});e.state.context.inflateTable().then((function(){t.remove(n),t.add("Finished updating table!",{appearance:"success",autoDismiss:!0})}))}},"Inflate Table"),c.a.createElement("div",{className:"error"},c.a.createElement("p",{id:"status"},this.state.status)),c.a.createElement("div",null,c.a.createElement("p",null,"Prime Counter generates a specified amount of prime numbers and calculates the product, displaying results in a table. You can select between the JavaScript or WebAssembly engine."))),c.a.createElement("address",null,c.a.createElement("p",null,"\xa9 eikcalb, ",(new Date).getFullYear())))}}]),t}(c.a.PureComponent),C=Object(y.withToastManager)(E);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));WebAssembly.instantiateStreaming||(WebAssembly.instantiateStreaming=function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=a.a,r.next=3,a.a.awrap(e);case 3:return r.t1=r.sent.arrayBuffer(),r.next=6,r.t0.awrap.call(r.t0,r.t1);case 6:return n=r.sent,r.next=9,a.a.awrap(WebAssembly.instantiate(n,t));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}))}),o.a.render(c.a.createElement(y.ToastProvider,{placement:"bottom-center"},c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.9c706b33.chunk.js.map